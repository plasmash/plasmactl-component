runtime: plugin
action:
  title: List Components
  description: "List components (attached by default, --all for all)"
  options:
    - name: tree
      shorthand: t
      title: Tree
      description: Show as tree with sections and nodes
      type: boolean
      default: false
    - name: kind
      shorthand: k
      title: Kind
      description: Filter by component kind (application, service, agent, etc.)
      type: string
      default: ""
    - name: all
      shorthand: a
      title: All
      description: Show all components (not just attached ones)
      type: boolean
      default: false
    - name: orphans
      shorthand: o
      title: Orphans
      description: Show only orphan components (nothing depends on them, excludes applications/agents)
      type: boolean
      default: false
  result:
    type: object
    properties:
      components:
        type: array
        description: List of components
        items:
          type: object
          properties:
            name:
              type: string
              description: Full component name
            version:
              type: string
              description: Component version (git hash)
            layer:
              type: string
              description: Component layer
            kind:
              type: string
              description: Component kind
            chassis:
              type: string
              description: Chassis section this component is distributed to
